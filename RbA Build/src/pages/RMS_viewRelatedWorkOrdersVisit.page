<apex:page standardController="Order" extensions="RMS_viewRelatedWorkOrdersController" standardStylesheets="false" >
	<!-- VISIT -->
	<apex:includeScript value="/support/console/20.0/integration.js"/>

	<apex:includeScript value="{!$Resource.jquery}" />
	
	<apex:includeScript value="{!URLFOR($Resource.jquery_TableSorterZip, 'jquery.tablesorter.js')}"/>
	<apex:stylesheet value="{!URLFOR($Resource.jquery_TableSorterZip, '/themes/blue/style.css')}"/>
	 
	<script type="text/javascript">
	    $(document).ready(function(){
	  		$("table").tablesorter(); 
	  		//$(document.getElementById('{!$Component.workOrderTable}').tablesorter(); 
	  		
	    });
	</script>

	<script type="text/javascript">
		var theURL;
        var tabName;
        //The callback function that openSubtab will call once it's got the ID for its primary tab
        var callOpenSubtab = function callOpenSubtab(result) {
            sforce.console.openSubtab(result.id, 
               'https://cs50.salesforce.com/'+theURL, true, tabName);
            theURL = '';
            tabName= '';
        };
        
        function openSubtab(urlPart, theTabName) {
        	theURL = urlPart;
        	tabName = theTabName;
            sforce.console.getEnclosingPrimaryTabId(callOpenSubtab);
        }
	</script>


	<style>
		.dataCell{
			border-style: solid !important;
		    border-width: 1px !important;
	    }
	    .bigandgreen{
	    	font-size: 16px;
	    	color: #33CC33 !important;
	    	font-weight: bold;
	    }    
	    
	</style>
	
	<apex:pageBlock >
	<!-- 
	<apex:form>
		<apex:commandButton onclick="openSubtab('{!serviceOrderVisitRecordTypeURL}', 'Create New Work Order')" id="newVisitButton" value="Create New Visit Work Order" style="margin-left:40%"/>
	</apex:form>
	 -->	
		<apex:pageBlockTable id="workOrderTable" title="Visit Work Orders" value="{!workOrders}" var="wo" style="width:100%">
			<apex:column headerValue="">  
				<a href="#" onClick="openSubtab('{!wo.Id}','{!wo.Name}');return false">View</a> 
			</apex:column>
	        <apex:column value="{!wo.SVMXC__Order_Type__c}" id="OrderTypeColumn" styleClass="bigandgreen" />
	        <apex:column value="{!wo.SVMXC__Work_Order_Scheduling_Status__c}"/>
	        <apex:column value="{!wo.SVMXC__Scheduled_Date_Time__c}"/>
	        <apex:column value="{!wo.SVMXC__Group_Member__c}"/>
	        <apex:column value="{!wo.Owner.Name}" headerValue="Owner"/>
		</apex:pageBlockTable>
		
		
	</apex:pageBlock>  


		
</apex:page>