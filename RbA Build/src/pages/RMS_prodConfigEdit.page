<apex:page standardController="OrderItem" extensions="RMS_prodConfigExtension">
<apex:form >
    <apex:pageMessages />
    <apex:pageBlock title="Add New Product" mode="edit" id="EnterProductBlock" rendered="{!!orderActivated}">
        <apex:pageBlockButtons location="bottom" rendered="{!!productSelected}">
            <apex:commandButton action="{!enterProduct}" value="Enter" />
        </apex:pageBlockButtons>            

        <apex:pageBlockSection title="Select Product" columns="1" rendered="{!!productSelected}">
                <apex:inputText value="{!OrderItem.Unit_Id__c}" label="Unit Id" id="unitId" required="{!prodConfig.mpc.Unit_Id_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Unit_Id_Control__c != 'Disabled'}"/>
 <!--             <apex:inputText value="{!OrderItem.Unit_Id__c}" label="Unit Id" id="unitId"/>
-->            <apex:inputText value="{!OrderItem.Room__c}" label="Room" id="room" required="{!prodConfig.mpc.Room_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Room_Control__c != 'Disabled'}"/>
            <apex:selectList value="{!masterProductId}" label="Product" size="1" id="masterProduct">
                <apex:selectOptions value="{!masterProductItems}"/>
            </apex:selectList>
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Enter Measurements" columns="2" rendered="{!!productSelected}">
            <apex:inputText value="{!OrderItem.Width_Inches__c}" label="Width" id="inputWidth" required="{!prodConfig.mpc.Width_Inches_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Inches_Control__c != 'Disabled'}"/>
            <apex:inputText value="{!OrderItem.Sales_Width_Inches__c}" label="Sales Width" id="salesInputWidth"  required="{!prodConfig.mpc.Width_Inches_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Inches_Control__c != 'Disabled'}"/>
 <!--             <apex:inputText value="{!OrderItem.Width_Fraction__c}" label="Width Fraction" id="inputWidthFraction" required="{!prodConfig.mpc.Width_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}"/>
 -->        <apex:selectList value="{!OrderItem.Width_Fraction__c}" label="Width Fraction" size="1" id="inputWidthFraction" required="{!prodConfig.mpc.Width_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!widthFractionItems}"/>
            </apex:selectList>
  
<!--              <apex:inputText value="{!OrderItem.Sales_Width_Fraction__c}" label="Sales Width Fraction" id="salesInputWidthFraction"  required="{!prodConfig.mpc.Width_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}"/>
 -->        <apex:selectList value="{!OrderItem.Sales_Width_Fraction__c}" label="Sales Width Fraction" size="1" id="salesInputWidthFraction"  required="{!prodConfig.mpc.Width_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!widthFractionItems}"/>
            </apex:selectList>
            <apex:inputText value="{!OrderItem.Height_Inches__c}" label="Height" id="inputHeight"  required="{!prodConfig.mpc.Height_Inches_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Inches_Control__c != 'Disabled'}"/>
            <apex:inputText value="{!OrderItem.Sales_Height_Inches__c}" label="Sales Height" id="salesInputHeight"  required="{!prodConfig.mpc.Height_Inches_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Inches_Control__c != 'Disabled'}"/>
<!--            <apex:inputText value="{!OrderItem.Height_Fraction__c}" label="Height Fraction" id="inputHeightFraction"  required="{!prodConfig.mpc.Height_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}"/>
 -->        <apex:selectList value="{!OrderItem.Height_Fraction__c}" label="Height Fraction" size="1" id="inputHeightFraction"   required="{!prodConfig.mpc.Height_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!heightFractionItems}"/>
            </apex:selectList>
<!--              <apex:inputText value="{!OrderItem.Sales_Height_Fraction__c}" label="Sales Height Fraction" id="salesInputHeightFraction"  required="{!prodConfig.mpc.Height_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}"/>
 -->        <apex:selectList value="{!OrderItem.Sales_Height_Fraction__c}" label="Sales Height Fraction" size="1" id="salesInputHeightFraction"   required="{!prodConfig.mpc.Height_Fraction_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!heightFractionItems}"/>
            </apex:selectList>
            <apex:inputText value="{!OrderItem.Quantity}" label="Quantity" id="inputQuantity"/>   
        </apex:pageBlockSection>

        <apex:pageBlockSection title="Selected Product" columns="1" rendered="{!productSelected}">
                <apex:outputText value="{!OrderItem.Unit_Id__c}" label="Unit Id" id="unitOutId" rendered="{!prodConfig.mpc.Unit_Id_Control__c != 'Disabled'}"/>
 <!--             <apex:outputText value="{!OrderItem.Unit_Id__c}" label="Unit Id" id="unitOutId"/>
-->            <apex:outputText value="{!OrderItem.Room__c}" label="Room" id="roomOut" rendered="{!prodConfig.mpc.Room_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!masterProduct.Name}" label="Product" id="outputProduct" />
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Enter Measurements" columns="2" rendered="{!productSelected}">
            <apex:outputText value="{!OrderItem.Width_Inches__c}" label="Width" id="outWidth" rendered="{!prodConfig.mpc.Width_Inches_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Sales_Width_Inches__c}" label="Sales Width" id="outSalesWidth" rendered="{!prodConfig.mpc.Width_Inches_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Width_Fraction__c}" label="Width Fraction" id="outWidthFraction" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Sales_Width_Fraction__c}" label="Sales Width Fraction" id="outSalesWidthFraction" rendered="{!prodConfig.mpc.Width_Fraction_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Height_Inches__c}" label="Height" id="outHeight" rendered="{!prodConfig.mpc.Height_Inches_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Sales_Height_Inches__c}" label="Sales Height" id="outSalesHeight" rendered="{!prodConfig.mpc.Height_Inches_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Height_Fraction__c}" label="Height Fraction" id="outHeightFraction"   rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Sales_Height_Fraction__c}" label="Sales Height Fraction" id="outSalesHeightFraction" rendered="{!prodConfig.mpc.Height_Fraction_Control__c != 'Disabled'}"/>
            <apex:outputText value="{!OrderItem.Quantity}" label="Quantity" id="outputQuantity"/>  
        </apex:pageBlockSection>

    </apex:pageBlock>

    <apex:pageBlock title="Configure Product" mode="edit" id="ConfigureProductBlock" rendered="{!productSelected}">
        <apex:pageBlockButtons location="bottom">
            <apex:commandButton action="{!saveProduct}" value="Save"/>
        </apex:pageBlockButtons>            

        <apex:pageBlockSection title="Handing & Frame Options" columns="1">
            <apex:selectList value="{!OrderItem.Frame_Type__c}" label="Frame Type" size="1" id="frameType"  required="{!prodConfig.mpc.Frame_Type_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Frame_Type_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!frameTypeItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Checkrail_Style__c}" label="Checkrail Style" size="1" id="checkrailStyle"  required="{!prodConfig.mpc.Checkrail_Style_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Checkrail_Style_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!checkrailStyleItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Interior_Trim__c}" label="Interior Trim" size="1" id="interiorTrim"  required="{!prodConfig.mpc.Interior_Trim_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Interior_Trim_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!interiorTrimItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Handing__c}" label="Handing" size="1" id="handingOption">
                <apex:selectOptions value="{!HandingOptionItems}"/>
            </apex:selectList>
            <apex:inputField value="{!OrderItem.EJ_Frame__c}" required="{!prodConfig.EJFrameControl == 'Required'}" rendered="{!prodConfig.EJFrameControl != 'Disabled'}"/>
            <apex:inputField value="{!OrderItem.Fibrex_L_Trim__c}" required="{!prodConfig.mpc.Fibrex_L_Trim_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Fibrex_L_Trim_Control__c != 'Disabled'}"/>
        </apex:pageBlockSection>
        <apex:pageBlockSection title="Glass Options" columns="1">
              <apex:selectList value="{!OrderItem.Glazing_S1__c}" label="Glazing S1" size="1" id="glazingS1"  required="{!prodConfig.mpc.Glazing_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Glazing_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!glazingItems}"/>
            </apex:selectList>
              <apex:selectList value="{!OrderItem.Glass_Pattern_S1__c}" label="Glass Pattern S1" size="1" id="glassPatternS1"  required="{!prodConfig.mpc.Glass_Pattern_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Glass_Pattern_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!GlassPatternItems}"/>
            </apex:selectList>
            <apex:inputField value="{!OrderItem.Tempered_S1__c}"  required="{!prodConfig.mpc.Tempered_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Tempered_Control__c != 'Disabled'}"/>
            <apex:inputField value="{!OrderItem.Breather_Tubes__c}" required="{!prodConfig.mpc.Fibrex_L_Trim_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Fibrex_L_Trim_Control__c != 'Disabled'}"/>
        </apex:pageBlockSection>
 <!--       <apex:pageBlockSection title="Door Options" columns="1">
            <apex:selectList value="{!OrderItem.Size__c}" label="Size" size="1" id="size" rendered="{!prodConfig.sizes != null}">
                <apex:selectOptions value="{!sizeItems}"/>
            </apex:selectList> 
        </apex:pageBlockSection>  -->

        <apex:pageBlockSection title="Insect Screens" columns="1">
              <apex:selectList value="{!OrderItem.Screen_Type__c}" label="Screen Type" size="1" id="screenType"  required="{!prodConfig.mpc.Screen_Type_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Screen_Type_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!screenTypeItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Screen_Vaneer_Type__c}" label="Vaneer Type" size="1" id="screenVaneerType">
                <apex:selectOptions value="{!ScreenVaneerOptionItems}"/>
            </apex:selectList>
        </apex:pageBlockSection>

        <apex:pageBlockSection title="Finishes" columns="1">
              <apex:selectList value="{!OrderItem.Exterior_Trim__c}" label="Exterior Trim" size="1" id="exteriorTrim" required="{!prodConfig.mpc.Exterior_Trim_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Exterior_Trim_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!exteriorTrimItems}"/>
            </apex:selectList>

              <apex:selectList value="{!OrderItem.Exterior_Color__c}" label="Exterior Color" size="1" id="exteriorColor" required="{!prodConfig.mpc.Exterior_Color_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Exterior_Color_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!exteriorColorItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Interior_Color__c}" label="Interior Color" size="1" id="interiorColor" required="{!prodConfig.mpc.Interior_Color_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Interior_Color_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!interiorColorItems}"/>
            </apex:selectList>

        </apex:pageBlockSection>
        <apex:pageBlockSection title="Hardware Options" columns="1">
            <apex:selectList value="{!OrderItem.Hardware_Color__c}" label="Hardware Color" size="1" id="hardwareColor" rendered="{!prodConfig.hardwareColors != null}">
                <apex:selectOptions value="{!hardwareColorItems}"/>
            </apex:selectList>
            <apex:inputField value="{!OrderItem.Corrosion_Resistant_Hardware__c}"  required="{!prodConfig.mpc.Corrosion_Resistant_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Corrosion_Resistant_Control__c != 'Disabled'}"/>
            <apex:selectList value="{!OrderItem.Lifts_Pulls__c}" label="Lifts/Pulls" size="1" id="liftsPulls" required="{!prodConfig.mpc.Lifts_Pulls_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Lifts_Pulls_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!liftsPullsItems}"/>
            </apex:selectList>
            <apex:selectList value="{!OrderItem.Locks_Sash__c}" label="Locks/Sash" size="1" id="locksSash" required="{!prodConfig.mpc.Locks_Sash_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Locks_Sash_Control__c != 'Disabled'}">
                <apex:selectOptions value="{!locksSashItems}"/>
            </apex:selectList>
        </apex:pageBlockSection>

		<apex:tabPanel switchType="Sash" selectedTab="AllSashes" id="sashPanel">
			<apex:tab label="All Sashes" name="allsashes" id="allsashes">
		        <apex:pageBlockSection title="Grille Style" columns="1">
        		    <apex:selectList value="{!OrderItem.Grille_Style__c}" label="Style" size="1" id="grilleStyle">
                		<apex:selectOptions value="{!GrilleStyleItems}"/>
		            </apex:selectList>
        		    <apex:inputField value="{!OrderItem.Permanently_Applied_Interior_Wood_Grille__c}"  rendered="{!prodConfig.PermanentlyAppliedInteriorWoodGrillePrice != null}"/>
 		           <apex:inputField value="{!OrderItem.Wide_Bar__c}" required="{!prodConfig.mpc.Wide_Bar_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Wide_Bar_Control__c != 'Disabled'}"/>
        		</apex:pageBlockSection>
     		   <apex:pageBlockSection title="Grille Pattern" columns="1">
     		       <apex:selectList value="{!OrderItem.Grille_Pattern__c}" label="Pattern" size="1" id="grillePattern" rendered="{!prodConfig.grillePatterns != null}">
            		    <apex:selectOptions value="{!GrillePatternItems}"/>
 		           </apex:selectList>
        		    <apex:selectList value="{!OrderItem.Colonial_Grille_Lights_Wide__c}" label="Colonial Grille Lights Wide" size="1" id="colonialGrilleLightsWide" rendered="{!prodConfig.ColonialGrilleLightsWide != null}">
                		<apex:selectOptions value="{!ColonialGrilleLightsWideItems}"/>
  		          </apex:selectList>
        		    <apex:selectList value="{!OrderItem.Colonial_Grille_Lights_High__c}" label="Colonial Grille Lights High" size="1" id="colonialGrilleLightsHigh" rendered="{!prodConfig.ColonialGrilleLightsHigh != null}">
                		<apex:selectOptions value="{!ColonialGrilleLightsHighItems}"/>
     		       </apex:selectList>
 		           <apex:inputTextArea value="{!OrderItem.Custom_Grille_Details__c}" cols="50" rows="5" required="{!prodConfig.mpc.Custom_Grille_Details_Control__c == 'Required'}" rendered="{!prodConfig.mpc.Custom_Grille_Details_Control__c != 'Disabled'}"/>
       		 </apex:pageBlockSection>
			</apex:tab>
		    <apex:tab label="Sash 1" name="sash1" id="sash1">content for sash 1</apex:tab>
		    <apex:tab label="Sash 2" name="sash2" id="sash2">content for sash 2</apex:tab>
		    <apex:tab label="Sash 3" name="sash3" id="sash3">content for sash 3</apex:tab>
		</apex:tabPanel>

    </apex:pageBlock>
    <apex:outputField value="{!OrderItem.OrderId}" rendered="false"/>

</apex:form>
</apex:page>